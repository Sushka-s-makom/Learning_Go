// –ü—Ä–∏–º–µ—Ä: —Å—Ç—Ä–æ–∫–∏, –±–∞–π—Ç—ã, —Ä—É–Ω—ã (–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏ Unicode) –∏ range –≤ Go.
//
// –ö–ª—é—á–µ–≤—ã–µ –∏–¥–µ–∏:
// 1) string –≤ Go = –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ë–ê–ô–¢–û–í (–æ–±—ã—á–Ω–æ –≤ UTF-8).
// 2) len(s) = —á–∏—Å–ª–æ –ë–ê–ô–¢–û–í, –∞ –Ω–µ "–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–∫–≤".
// 3) rune = int32, —Ö—Ä–∞–Ω–∏—Ç –ö–û–î–û–í–£–Æ –¢–û–ß–ö–£ Unicode (code point).
// 4) range –ø–æ —Å—Ç—Ä–æ–∫–µ –¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç UTF-8 –∏ –≤—ã–¥–∞—ë—Ç —Ä—É–Ω—ã (–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏) + –±–∞–π—Ç–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã.
//

package main

import (
	"fmt"
	"unicode/utf8"
)

func main_4() {
	// ASCII: 1 –±–∞–π—Ç –Ω–∞ —Å–∏–º–≤–æ–ª
	s1 := "Hello"

	// –ö–∏—Ä–∏–ª–ª–∏—Ü–∞: –æ–±—ã—á–Ω–æ 2 –±–∞–π—Ç–∞ –Ω–∞ –±—É–∫–≤—É –≤ UTF-8
	s2 := "–ü—Ä–∏–≤–µ—Ç"

	// –ö–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–π –∞–∫—Ü–µ–Ω—Ç: –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –æ–¥–∏–Ω "—Å–∏–º–≤–æ–ª", –Ω–æ —ç—Ç–æ –î–í–ï –∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏:
	// 'e' (U+0065) + combining acute accent (U+0301)
	s3 := "e\u0301"

	// –ó–Ω–∞–∫ –≤–Ω–µ BMP (U+1D11E): –≤ UTF-8 –∑–∞–Ω–∏–º–∞–µ—Ç 4 –±–∞–π—Ç–∞, –Ω–æ —ç—Ç–æ 1 –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞
	s4 := "ùÑû"

	printStringInfo("s1 (ASCII)", s1)
	printStringInfo("s2 (Cyrillic)", s2)
	printStringInfo("s3 (combining)", s3)
	printStringInfo("s4 (U+1D11E)", s4)

	// –ü–æ–∫–∞–∑–∞—Ç–µ–ª—å–Ω—ã–π –º–æ–º–µ–Ω—Ç: s[i] ‚Äî —ç—Ç–æ –±–∞–π—Ç, –Ω–µ "—Å–∏–º–≤–æ–ª".
	// –ï—Å–ª–∏ —Å—Ç—Ä–æ–∫–∞ –Ω–µ ASCII, —Ç–æ s[0] –º–æ–∂–µ—Ç –±—ã—Ç—å –ª–∏—à—å —á–∞—Å—Ç—å—é UTF-8 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.
	fmt.Println("\n--- –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ø–æ –±–∞–π—Ç–∞–º (s[i]) ---")
	fmt.Printf("s2 = %q\n", s2)
	fmt.Printf("s2[0] –∫–∞–∫ byte (hex): %02x\n", s2[0]) // –ø–µ—Ä–≤—ã–π –±–∞–π—Ç UTF-8 –¥–ª—è '–ü'
	// fmt.Printf("%c\n", s2[0]) // –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û –¥–ª—è –Ω–µ-ASCII: –±—É–¥–µ—Ç –º—É—Å–æ—Ä–Ω—ã–π —Å–∏–º–≤–æ–ª

	// –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ "i-—è –±—É–∫–≤–∞" –≤ —Å–º—ã—Å–ª–µ –∫–æ–¥–æ–≤–æ–π —Ç–æ—á–∫–∏ (rune) ‚Äî –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ []rune:
	fmt.Println("\n--- –î–æ—Å—Ç—É–ø –∫ i-–π —Ä—É–Ω–µ —á–µ—Ä–µ–∑ []rune ---")
	runes := []rune(s2)
	fmt.Printf("[]rune(s2) –¥–ª–∏–Ω–∞ (–∫–æ–ª-–≤–æ –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫): %d\n", len(runes))
	fmt.Printf("runes[0] = %U, –ø–µ—á–∞—Ç—å –∫–∞–∫ —Å–∏–º–≤–æ–ª: %c\n", runes[0], runes[0])

	// –ù–æ –ø–æ–º–Ω–∏—Ç–µ: "–≤–∏–¥–∏–º—ã–π —Å–∏–º–≤–æ–ª" (–≥—Ä–∞—Ñ–µ–º–∞) –º–æ–∂–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫,
	// –∫–∞–∫ –≤ s3 ("e" + –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–π –∞–∫—Ü–µ–Ω—Ç). len([]rune(s3)) –±—É–¥–µ—Ç 2.
}

func printStringInfo(name, s string) {
	fmt.Println("\n==============================")
	fmt.Printf("%s: %q\n", name, s)

	// 1) len(s) ‚Äî –±–∞–π—Ç—ã
	fmt.Printf("len(s) (–±–∞–π—Ç—ã): %d\n", len(s))

	// 2) –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä—É–Ω (–∫–æ–¥–æ–≤—ã—Ö —Ç–æ—á–µ–∫) ‚Äî –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ UTF-8
	fmt.Printf("utf8.RuneCountInString(s) (–∫–æ–¥–æ–≤—ã–µ —Ç–æ—á–∫–∏): %d\n", utf8.RuneCountInString(s))

	// 3) –ü–µ—Ä–µ–±–æ—Ä –ø–æ –±–∞–π—Ç–∞–º
	fmt.Println("–ë–∞–π—Ç—ã (hex):")
	for i := 0; i < len(s); i++ {
		fmt.Printf("  byte[%d] = 0x%02x\n", i, s[i])
	}

	// 4) –ü–µ—Ä–µ–±–æ—Ä –ø–æ —Ä—É–Ω–∞–º —Å –ø–æ–º–æ—â—å—é range
	// idx ‚Äî –±–∞–π—Ç–æ–≤—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞—á–∞–ª–∞ UTF-8 –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç–µ–∫—É—â–µ–π —Ä—É–Ω—ã.
	fmt.Println("range –ø–æ —Å—Ç—Ä–æ–∫–µ (idx –≤ –±–∞–π—Ç–∞—Ö, rune = –∫–æ–¥–æ–≤–∞—è —Ç–æ—á–∫–∞):")
	for idx, r := range s {
		// %U –ø–µ—á–∞—Ç–∞–µ—Ç U+XXXX, %#U –ø–µ—á–∞—Ç–∞–µ—Ç U+XXXX '—Å–∏–º–≤–æ–ª'
		fmt.Printf("  idx=%d  r=%#U  type=%T\n", idx, r, r)
	}

	// 5) –Ø–≤–Ω–æ–µ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä—É–Ω (–∞–Ω–∞–ª–æ–≥ range –≤—Ä—É—á–Ω—É—é)
	fmt.Println("–Ø–≤–Ω–æ–µ utf8.DecodeRuneInString (rune + width –≤ –±–∞–π—Ç–∞—Ö):")
	for i := 0; i < len(s); {
		r, width := utf8.DecodeRuneInString(s[i:])
		fmt.Printf("  i=%d  r=%#U  width=%d –±–∞–π—Ç(–∞)\n", i, r, width)
		i += width
	}
}
